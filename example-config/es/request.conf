{
  channel: "REQUEST_CHANNEL_ID"
  log: {
    channel: "REQUEST_LOG_CHANNEL_ID"
    update: true
    delete: true
  }
  sendStickyMessage: true

  requirements: {
    // Available requirements when reposting:
    // - cooldown
    // - roles
    // - has-level
    repost: [
      {
        id: "cooldown",
        cooldown: "1h",
        deny: true,
        message: {
          name: "‚è∞ Cooldown"
          value: "No puedes republicar este servicio hasta %timeLeft%."
        }
      }
    ],
    // Available requirements when publishing:
    // - roles
    // - has-tag
    // - search
    // - maxServices
    // - searchOffers
    // - has-level
    publish: [
      {
        deny: false,
        id: "searchOffers",
        message: {
          color: "#5bc0eb",
          title: "üîé Ofertas"
          description: "Se han encontrado ofertas que podr√≠an ofrecer lo que buscas:",
          fieldsTemplate: {
            name = "%offer_title%"
            value = """
Oferta de %offer_user_mention% (`%offer_user_name%`)

‚Ä¢ **Tags:** %offer_tags_mapBy_name_codejoin%
‚Ä¢ **Publicada hace:** %offer_lastPostedAt_R%
‚Ä¢ **[Ver oferta](%offer_url%)**
"""
          }
        }
      }
      {
        id: "roles",
        mode: "any",
        roles: ["1032733277355790357"]
        response: "forbid",
        message: {
          name: "üëÆ Roles"
          value: "No tienes los roles necesarios para publicar en este canal."
        }
      },
      {
        id: "has-tag",
        deny: true,
        message: {
          name: "üè∑ Etiqueta"
          value: "Debes especificar una etiqueta para tu solicitud."
        }
      },
      {
        id: "search",
        regex: [
          {
            regex: "[1-9]",
            mode: "require",
            on: "budget",
            message: {
              name: "üí∞ Presupuesto"
              value: "Debes especificar un presupuesto para tu servicio."
            },
            deny: true
          },
        ],
        words: [
          {
            words: ["setup"],
            mode = "none"
            deny: false,
            on: "description",
            message: {
              name: "‚ôª Setup"
              value: "No puedes vender setups. Solo se pueden ofrecer servicios de configuraci√≥n, pero no servidores ya hechos por completo."
            }
          },
          {
            words: ["hosting"],
            mode = "none"
            deny: false,
            on = "description",
            message: {
              name: "üñ• Hosting"
              value: "No est√° permitido ofrecer servicios de hosting en este canal. Revisa las reglas del servidor."
            }
          },
          {
            words = ["$", "‚Ç¨", "dolar", "usd", "euro"]
            mode = "any"
            on = "budget"
            deny = true,
            message: {
              name: "üíµ Moneda"
              value: "Debes especificar una moneda en tu presupuesto, es decir debe de incluir alguna de estas monedas: `$`, `‚Ç¨`, `dolar`, `usd`, `euro`."
            }
          }
        ]
      },
      {
        id: "maxServices",
        type: "request",
        max: 1,
        cacheOnly: false,
        message: {
          title: "üì¢ M√°ximo de pedidos alcanzado",
          description = """
          Ya has publicado tu l√≠mite de pedidos solicitados. Puedes:
          * Editar con `/solicitudes editar`.
          * Volver a publicar con `/solicitudes republicar`.
          * Eliminar con `/solicitudes eliminar`.

          Los pedidos que tienes son:
          """,
          fieldsTemplate: {
            name = "%request_title%"
            value = """
‚Ä¢ **Tag:** %request_tag_name%
‚Ä¢ **Publicada hace:** %request_lastPostedAt_R%
‚Ä¢ **[Ver solicitud](%request_url%)**
"""
          }
        }
      }
    ],
    // Available requirements when updating:
    // - search
    // - has-level
    update: [
      {
        id: "search",
        regex: [
          {
            regex: "\\d",
            mode: "require",
            on: "budget",
            message: {
              name: "üí∞ Presupuesto"
              value: "Debes especificar un presupuesto para tu servicio."
            },
            deny: true
          },
        ],
        words: [
          {
            words: ["setup"],
            mode = "none"
            deny: false,
            on: "description",
            message: {
              name: "‚ôª Setup"
              value: "No puedes vender setups. Solo se pueden ofrecer servicios de configuraci√≥n, pero no servidores ya hechos por completo."
            }
          },
          {
            words: ["hosting"],
            mode = "none"
            deny: false,
            on = "description",
            message: {
              name: "üñ• Hosting"
              value: "No est√° permitido ofrecer servicios de hosting en este canal. Revisa las reglas del servidor."
            }
          },
          {
            words = ["$", "‚Ç¨", "dolar", "usd", "euro"]
            mode = "any"
            on = "budget"
            deny = true,
            message: {
              name: "üíµ Moneda"
              value: "Debes especificar una moneda en tu presupuesto, es decir debe de incluir alguna de estas monedas: `$`, `‚Ç¨`, `dolar`, `usd`, `euro`."
            }
          }
        ]
      },
    ]
  }
}
